<%= form_for @review, url: product_reviews_path(@product.id), remote: true do |form| %>
  <div class="flex flex-wrap -mx-3 mb-6">
    <h2 class="px-4 pt-3 pb-2 text-gray-6 text-lg">Write your review</h2>
    <div class="w-full md:w-full flex px-3 mb-2 mt-2 w-6 h-6" id="star">
      <%= form.hidden_field :rating, id: :review_star, class: "flex" %>
    </div>
    <div class="w-full md:w-full px-3 mb-2 mt-2">
      <%= form.text_area :content, {class: "rounded border border-gray-400 leading-normal resize-none w-full h-20 py-2 px-3 font-medium placeholder-gray-400 focus:outline-none focus:bg-white", placeholder: "Write your comment", require: true } %>
    </div>
    <div class="w-full md:w-full flex items-start md:w-full px-3">
      <% if user_signed_in? %>
        <div class="-mr-1">
          <%= form.submit "Post", class: "cursor-pointer bg-white text-gray-700 font-medium py-1 px-4 border border-gray-400 rounded-lg tracking-wide mr-1 hover:bg-indigo-400 hover:text-white" %>
        </div>
      <% else %>
        <%= link_to "Please login to use this feature", new_user_session_path, class: "text-gray-700 underline" %>
      <% end %>
    </div>
  </div>
<% end %>
<script>
    $(document).ready(function() {
        let star = $('#star')
        star.raty({
            size     : 10,
            starOff  : '<%= image_path "star-off.svg" %>',
            starOn   : '<%= image_path "star-on.svg" %>',
            scoreName: 'review[rating]',
            half     : false,
        });
        star.raty.reload();
    });
</script>

